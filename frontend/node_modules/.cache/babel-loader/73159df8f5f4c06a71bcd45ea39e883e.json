{"ast":null,"code":"import * as actionTypes from '../constants/cartConstants';\nexport const cartReducer = (state = {\n  cartItems: []\n}, action) => {\n  switch (action.type) {\n    case actionTypes.ADD_TO_CART_REQUEST:\n      {\n        return {\n          loading: true,\n          cartItems: [...state.cartItems]\n        };\n      }\n\n    case actionTypes.ADD_TO_CART_SUCCESS:\n      {\n        const item = action.payload;\n        const existInCart = state.cartItems.find(x => x.productId === item.productId);\n\n        if (existInCart) {\n          return {\n            loading: false,\n            cartItems: state.cartItems.map(x => x.productId === existInCart.productId ? item : x)\n          };\n        } else {\n          return {\n            loading: false,\n            cartItems: [...state.cartItems, item]\n          };\n        }\n      }\n\n    case actionTypes.ADD_TO_CART_FAIL:\n      {\n        return {\n          loading: false,\n          error: action.payload\n        };\n      }\n\n    case actionTypes.REMOVE_FROM_CART_REQUEST:\n      {\n        return {\n          loading: true,\n          cartItems: [...state.cartItems]\n        };\n      }\n\n    case actionTypes.REMOVE_FROM_CART_SUCCESS:\n      {\n        return { ...state,\n          loading: false,\n          cartItems: state.cartItems.filter(x => x.productId !== action.payload)\n        };\n      }\n\n    case actionTypes.REMOVE_FROM_CART_FAIL:\n      {\n        return {\n          loading: false,\n          error: action.payload\n        };\n      }\n\n    case actionTypes.LOAD_ACCOUNT_CART_REQUEST:\n      {\n        return {\n          loading: true,\n          cartItems: []\n        };\n      }\n\n    case actionTypes.LOAD_ACCOUNT_CART_SUCCESS:\n      {\n        return {\n          loading: false,\n          cartItems: action.payload\n        };\n      }\n\n    case actionTypes.LOAD_ACCOUNT_CART_FAIL:\n      {\n        return {\n          loading: false,\n          error: action.payload\n        };\n      }\n\n    case actionTypes.RESET_CART:\n      {\n        return {\n          loading: false,\n          cartItems: []\n        };\n      }\n\n    default:\n      return { ...state\n      };\n  }\n};","map":{"version":3,"sources":["C:/Users/elada/OneDrive/שולחן העבודה/Fullstack Projects/eCommerce-Website/frontend/src/redux/reducers/cartReducer.js"],"names":["actionTypes","cartReducer","state","cartItems","action","type","ADD_TO_CART_REQUEST","loading","ADD_TO_CART_SUCCESS","item","payload","existInCart","find","x","productId","map","ADD_TO_CART_FAIL","error","REMOVE_FROM_CART_REQUEST","REMOVE_FROM_CART_SUCCESS","filter","REMOVE_FROM_CART_FAIL","LOAD_ACCOUNT_CART_REQUEST","LOAD_ACCOUNT_CART_SUCCESS","LOAD_ACCOUNT_CART_FAIL","RESET_CART"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,4BAA7B;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAG;AAAEC,EAAAA,SAAS,EAAE;AAAb,CAAT,EAA4BC,MAA5B,KAAuC;AACjE,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKL,WAAW,CAACM,mBAAjB;AAAsC;AACrC,eAAO;AACNC,UAAAA,OAAO,EAAE,IADH;AAENJ,UAAAA,SAAS,EAAE,CAAE,GAAGD,KAAK,CAACC,SAAX;AAFL,SAAP;AAIA;;AACD,SAAKH,WAAW,CAACQ,mBAAjB;AAAsC;AACrC,cAAMC,IAAI,GAAGL,MAAM,CAACM,OAApB;AACA,cAAMC,WAAW,GAAGT,KAAK,CAACC,SAAN,CAAgBS,IAAhB,CAAqBC,CAAC,IAAIA,CAAC,CAACC,SAAF,KAAgBL,IAAI,CAACK,SAA/C,CAApB;;AACA,YAAIH,WAAJ,EAAiB;AAChB,iBAAO;AACNJ,YAAAA,OAAO,EAAE,KADH;AAENJ,YAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBY,GAAhB,CAAoBF,CAAC,IAAKA,CAAC,CAACC,SAAF,KAAgBH,WAAW,CAACG,SAA5B,GAAwCL,IAAxC,GAA+CI,CAAzE;AAFL,WAAP;AAIA,SALD,MAMK;AACJ,iBAAO;AACNN,YAAAA,OAAO,EAAE,KADH;AAENJ,YAAAA,SAAS,EAAE,CAAE,GAAGD,KAAK,CAACC,SAAX,EAAsBM,IAAtB;AAFL,WAAP;AAIA;AACD;;AACD,SAAKT,WAAW,CAACgB,gBAAjB;AAAmC;AAClC,eAAO;AACNT,UAAAA,OAAO,EAAE,KADH;AAENU,UAAAA,KAAK,EAAEb,MAAM,CAACM;AAFR,SAAP;AAIA;;AACD,SAAKV,WAAW,CAACkB,wBAAjB;AAA2C;AAC1C,eAAO;AACNX,UAAAA,OAAO,EAAE,IADH;AAENJ,UAAAA,SAAS,EAAE,CAAE,GAAGD,KAAK,CAACC,SAAX;AAFL,SAAP;AAIA;;AACD,SAAKH,WAAW,CAACmB,wBAAjB;AAA2C;AAC1C,eAAO,EACN,GAAGjB,KADG;AAENK,UAAAA,OAAO,EAAE,KAFH;AAGNJ,UAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBiB,MAAhB,CAAuBP,CAAC,IAAIA,CAAC,CAACC,SAAF,KAAgBV,MAAM,CAACM,OAAnD;AAHL,SAAP;AAKA;;AACD,SAAKV,WAAW,CAACqB,qBAAjB;AAAwC;AACvC,eAAO;AACNd,UAAAA,OAAO,EAAE,KADH;AAENU,UAAAA,KAAK,EAAEb,MAAM,CAACM;AAFR,SAAP;AAIA;;AACD,SAAKV,WAAW,CAACsB,yBAAjB;AAA4C;AAC3C,eAAO;AACNf,UAAAA,OAAO,EAAE,IADH;AAENJ,UAAAA,SAAS,EAAE;AAFL,SAAP;AAIA;;AACD,SAAKH,WAAW,CAACuB,yBAAjB;AAA4C;AAC3C,eAAO;AACNhB,UAAAA,OAAO,EAAE,KADH;AAENJ,UAAAA,SAAS,EAAEC,MAAM,CAACM;AAFZ,SAAP;AAIA;;AACD,SAAKV,WAAW,CAACwB,sBAAjB;AAAyC;AACxC,eAAO;AACNjB,UAAAA,OAAO,EAAE,KADH;AAENU,UAAAA,KAAK,EAAEb,MAAM,CAACM;AAFR,SAAP;AAIA;;AACD,SAAKV,WAAW,CAACyB,UAAjB;AAA6B;AAC5B,eAAO;AACNlB,UAAAA,OAAO,EAAE,KADH;AAENJ,UAAAA,SAAS,EAAE;AAFL,SAAP;AAIA;;AACD;AACC,aAAO,EAAE,GAAGD;AAAL,OAAP;AAzEF;AA2EA,CA5EM","sourcesContent":["import * as actionTypes from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (state = { cartItems: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase actionTypes.ADD_TO_CART_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t\tcartItems: [ ...state.cartItems ]\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.ADD_TO_CART_SUCCESS: {\r\n\t\t\tconst item = action.payload;\r\n\t\t\tconst existInCart = state.cartItems.find(x => x.productId === item.productId);\r\n\t\t\tif (existInCart) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tcartItems: state.cartItems.map(x => (x.productId === existInCart.productId ? item : x))\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tcartItems: [ ...state.cartItems, item ]\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actionTypes.ADD_TO_CART_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.REMOVE_FROM_CART_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t\tcartItems: [ ...state.cartItems ]\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.REMOVE_FROM_CART_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcartItems: state.cartItems.filter(x => x.productId !== action.payload)\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.REMOVE_FROM_CART_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.LOAD_ACCOUNT_CART_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t\tcartItems: []\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.LOAD_ACCOUNT_CART_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcartItems: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.LOAD_ACCOUNT_CART_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.RESET_CART: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcartItems: []\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n"]},"metadata":{},"sourceType":"module"}