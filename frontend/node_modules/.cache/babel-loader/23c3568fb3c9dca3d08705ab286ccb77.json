{"ast":null,"code":"import * as actionTypes from '../constants/cartConstants';\nexport const cartReducer = (state = {\n  cartItems: []\n}, action) => {\n  switch (action.type) {\n    case actionTypes.ADD_TO_CART_SUCCESS:\n      {\n        const item = action.payload;\n        const existInCart = state.cartItems.find(x => x.productId === item.productId);\n\n        if (existInCart) {\n          return {\n            loading: false,\n            cartItems: state.cartItems.map(x => x.productId === existInCart.productId ? item : x)\n          };\n        } else {\n          return {\n            loading: false,\n            cartItems: [...state.cartItems, item]\n          };\n        }\n      }\n\n    case actionTypes.ADD_TO_CART_REQUEST:\n      {\n        return {\n          loading: true,\n          cartItems: [...state.cartItems]\n        };\n      }\n\n    case actionTypes.ADD_TO_CART_FAIL:\n      {\n        return {\n          loading: false,\n          error: action.payload\n        };\n      }\n\n    case actionTypes.REMOVE_FROM_CART_SUCCESS:\n      {\n        return { ...state,\n          loading: false,\n          cartItems: state.cartItems.filter(x => x.productId !== action.payload)\n        };\n      }\n\n    case actionTypes.REMOVE_FROM_CART_REQUEST:\n      {\n        return {\n          loading: true,\n          cartItems: [...state.cartItems]\n        };\n      }\n\n    case actionTypes.REMOVE_FROM_CART_FAIL:\n      {\n        return {\n          loading: false,\n          error: action.payload\n        };\n      }\n\n    default:\n      return { ...state\n      };\n  }\n};","map":{"version":3,"sources":["C:/Users/elada/OneDrive/שולחן העבודה/Fullstack Projects/eCommerce-Website/frontend/src/redux/reducers/cartReducer.js"],"names":["actionTypes","cartReducer","state","cartItems","action","type","ADD_TO_CART_SUCCESS","item","payload","existInCart","find","x","productId","loading","map","ADD_TO_CART_REQUEST","ADD_TO_CART_FAIL","error","REMOVE_FROM_CART_SUCCESS","filter","REMOVE_FROM_CART_REQUEST","REMOVE_FROM_CART_FAIL"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,4BAA7B;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAG;AAAEC,EAAAA,SAAS,EAAE;AAAb,CAAT,EAA4BC,MAA5B,KAAuC;AACjE,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKL,WAAW,CAACM,mBAAjB;AAAsC;AACrC,cAAMC,IAAI,GAAGH,MAAM,CAACI,OAApB;AACA,cAAMC,WAAW,GAAGP,KAAK,CAACC,SAAN,CAAgBO,IAAhB,CAAqBC,CAAC,IAAIA,CAAC,CAACC,SAAF,KAAgBL,IAAI,CAACK,SAA/C,CAApB;;AACA,YAAIH,WAAJ,EAAiB;AAChB,iBAAO;AACNI,YAAAA,OAAO,EAAE,KADH;AAENV,YAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBW,GAAhB,CAAoBH,CAAC,IAAKA,CAAC,CAACC,SAAF,KAAgBH,WAAW,CAACG,SAA5B,GAAwCL,IAAxC,GAA+CI,CAAzE;AAFL,WAAP;AAIA,SALD,MAMK;AACJ,iBAAO;AACNE,YAAAA,OAAO,EAAE,KADH;AAENV,YAAAA,SAAS,EAAE,CAAE,GAAGD,KAAK,CAACC,SAAX,EAAsBI,IAAtB;AAFL,WAAP;AAIA;AACD;;AACD,SAAKP,WAAW,CAACe,mBAAjB;AAAsC;AACrC,eAAO;AACNF,UAAAA,OAAO,EAAE,IADH;AAENV,UAAAA,SAAS,EAAE,CAAE,GAAGD,KAAK,CAACC,SAAX;AAFL,SAAP;AAIA;;AACD,SAAKH,WAAW,CAACgB,gBAAjB;AAAmC;AAClC,eAAO;AACNH,UAAAA,OAAO,EAAE,KADH;AAENI,UAAAA,KAAK,EAAEb,MAAM,CAACI;AAFR,SAAP;AAIA;;AACD,SAAKR,WAAW,CAACkB,wBAAjB;AAA2C;AAC1C,eAAO,EACN,GAAGhB,KADG;AAENW,UAAAA,OAAO,EAAE,KAFH;AAGNV,UAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBgB,MAAhB,CAAuBR,CAAC,IAAIA,CAAC,CAACC,SAAF,KAAgBR,MAAM,CAACI,OAAnD;AAHL,SAAP;AAKA;;AACD,SAAKR,WAAW,CAACoB,wBAAjB;AAA2C;AAC1C,eAAO;AACNP,UAAAA,OAAO,EAAE,IADH;AAENV,UAAAA,SAAS,EAAE,CAAE,GAAGD,KAAK,CAACC,SAAX;AAFL,SAAP;AAIA;;AACD,SAAKH,WAAW,CAACqB,qBAAjB;AAAwC;AACvC,eAAO;AACNR,UAAAA,OAAO,EAAE,KADH;AAENI,UAAAA,KAAK,EAAEb,MAAM,CAACI;AAFR,SAAP;AAIA;;AACD;AACC,aAAO,EAAE,GAAGN;AAAL,OAAP;AAjDF;AAmDA,CApDM","sourcesContent":["import * as actionTypes from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (state = { cartItems: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase actionTypes.ADD_TO_CART_SUCCESS: {\r\n\t\t\tconst item = action.payload;\r\n\t\t\tconst existInCart = state.cartItems.find(x => x.productId === item.productId);\r\n\t\t\tif (existInCart) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tcartItems: state.cartItems.map(x => (x.productId === existInCart.productId ? item : x))\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tcartItems: [ ...state.cartItems, item ]\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase actionTypes.ADD_TO_CART_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t\tcartItems: [ ...state.cartItems ]\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.ADD_TO_CART_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.REMOVE_FROM_CART_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcartItems: state.cartItems.filter(x => x.productId !== action.payload)\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.REMOVE_FROM_CART_REQUEST: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t\tcartItems: [ ...state.cartItems ]\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase actionTypes.REMOVE_FROM_CART_FAIL: {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n"]},"metadata":{},"sourceType":"module"}